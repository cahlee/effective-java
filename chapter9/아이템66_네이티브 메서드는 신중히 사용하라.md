아이템66_네이티브 메서드는 신중히 사용하라
------

### 네이티브 메소드(Java Native Methods)란

C 나 c++ 같은 네이티브 프로그래밍 언어로 작성한 메소드.

JNI(자바 네이티브 인터페이스; Java Native Interface): 자바 프로그램이 네이티브 메소드를 호출하는 기술

##### 쓰임 1. 레지스트리 같은 플랫폼 특화 기능 사용   
##### 쓰임 2. 네이티브 코드로 작성된 기존 라이브러리 사용
##### 쓰임 3. 성능 개선을 목적으로 성능에 결정적인 영향을 주는 영역만 따로 네이티브 언어 작성

### 성능을 개선할 목적으로 네이티브 메서드를 사용하는 것은 거의 권장하지 않는다.

- 자바3이전 초기시절 이후에 JVM의 엄청난 발전해왔다.
  - 예시) java.math가 처음 추가된 자바 1.1시절 BigInteger는 c로 작성한 고성능 라이브러리에 의지했으나 자바 3때부터 순수 자바로 다시 구현되면서 원래 네이티브 구현보다 빨라졌다.

- 한편, 네이티브 라이브러리 쪽은 GNU 다중 정밀 연산 라이브러리(GMP)를 필두로 개선 작업이 계속 진행되어서 고성능의 다중 정밀 연산이 필요한 자바 프로그래머라면
네이티브 메서드를 통해 GMP를 사용하는것을 고려해도 좋다.

### 네이티브 메서드의 심각한 단점
- 네이티브 언어가 안전하지 않으므로 네이티브 메서드를 사용하는 애플리케이션도 메모리 훼손 오류로 부터 더 이상 안전하지 않다.
- 네이티브 언어는 자바보다 플랫폼을 많이 타서 이식성도 낮다.
- 디버깅도 더 어렵다.
- 속도가 느려질 수 있다.
- 가비지 컬렉터가 네이티브 메모리는 자동 회수하지 못하고, 추적조차 할 수 없다.
- 자바코드와 네이티브 코드의 경계를 넘나들때마다 비용이 추가된다.
- 네이티브 메소드와 자바코드 사이에 '접착코드(glue code)'를 추가적으로 작성해야한다.

### 정리
### 네이티브 메서드를 사용하려면 한번 더 생각하라.
